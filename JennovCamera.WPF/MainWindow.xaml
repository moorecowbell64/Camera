<Window x:Class="JennovCamera.WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Jennov PTZ Camera Control"
        Height="900" Width="1400"
        Background="{StaticResource BackgroundBrush}"
        WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="*" MinWidth="300"/>
        </Grid.ColumnDefinitions>

        <!-- Left Panel - Video Display -->
        <Grid Grid.Column="0" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Video Display -->
            <Border Grid.Row="0"
                    BorderBrush="{StaticResource PrimaryBrush}"
                    BorderThickness="2"
                    Background="Black"
                    CornerRadius="5">
                <Grid>
                    <Image x:Name="VideoImage"
                           Stretch="Uniform"
                           RenderOptions.BitmapScalingMode="LowQuality"/>
                    <TextBlock x:Name="NoVideoText"
                               Text="No Video Feed&#x0a;&#x0a;Click 'Connect' to start"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               Foreground="White"
                               FontSize="18"
                               TextAlignment="Center"/>
                </Grid>
            </Border>

            <!-- Status Bar -->
            <Grid Grid.Row="1" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="ConnectionStatus"
                           Grid.Column="0"
                           Text="Disconnected"
                           Foreground="{StaticResource AccentRedBrush}"
                           FontWeight="Bold"
                           FontSize="14"
                           VerticalAlignment="Center"/>

                <TextBlock x:Name="RecordingStatus"
                           Grid.Column="2"
                           Text="Not Recording"
                           Foreground="#888888"
                           FontSize="14"
                           VerticalAlignment="Center"/>
            </Grid>
        </Grid>

        <!-- Right Panel - Controls -->
        <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="5">

                <!-- Connection Controls -->
                <GroupBox Header="Connection">
                    <StackPanel>
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>

                            <Label Grid.Row="0" Grid.Column="0" Content="IP:" VerticalAlignment="Center"/>
                            <TextBox x:Name="CameraIpText" Grid.Row="0" Grid.Column="1"
                                     Text="192.168.50.224" Margin="5"/>

                            <Label Grid.Row="1" Grid.Column="0" Content="User:" VerticalAlignment="Center"/>
                            <TextBox x:Name="UsernameText" Grid.Row="1" Grid.Column="1"
                                     Text="admin" Margin="5"/>

                            <Label Grid.Row="2" Grid.Column="0" Content="Pass:" VerticalAlignment="Center"/>
                            <PasswordBox x:Name="PasswordText" Grid.Row="2" Grid.Column="1"
                                         Margin="5" Background="#1E1E1E" Foreground="White"
                                         BorderBrush="{StaticResource PrimaryBrush}"/>
                        </Grid>

                        <Button x:Name="ConnectButton"
                                Content="Connect Camera"
                                Click="ConnectButton_Click"
                                Height="40"/>
                    </StackPanel>
                </GroupBox>

                <!-- PTZ Controls -->
                <GroupBox Header="PTZ Controls" x:Name="PTZControls" IsEnabled="False">
                    <StackPanel>
                        <!-- Speed Slider -->
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Label Content="Speed:" VerticalAlignment="Center"/>
                            <Slider x:Name="SpeedSlider" Grid.Column="1"
                                    Minimum="0.1" Maximum="1.0" Value="0.5"
                                    VerticalAlignment="Center" Margin="10,0"
                                    ValueChanged="SpeedSlider_ValueChanged"/>
                            <Label x:Name="SpeedLabel" Grid.Column="2" Content="0.5"
                                   Foreground="{StaticResource PrimaryBrush}" FontWeight="Bold"/>
                        </Grid>

                        <!-- Directional Pad -->
                        <Grid HorizontalAlignment="Center" Margin="0,10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="60"/>
                                <RowDefinition Height="60"/>
                                <RowDefinition Height="60"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="60"/>
                            </Grid.ColumnDefinitions>

                            <Button Grid.Row="0" Grid.Column="1" Content="Up"
                                    PreviewMouseDown="UpButton_MouseDown"
                                    PreviewMouseUp="PTZButton_MouseUp"
                                    Margin="2"/>
                            <Button Grid.Row="1" Grid.Column="0" Content="Left"
                                    PreviewMouseDown="LeftButton_MouseDown"
                                    PreviewMouseUp="PTZButton_MouseUp"
                                    Margin="2"/>
                            <Button Grid.Row="1" Grid.Column="1" Content="Stop"
                                    Click="StopButton_Click"
                                    Background="{StaticResource AccentRedBrush}"
                                    Margin="2"/>
                            <Button Grid.Row="1" Grid.Column="2" Content="Right"
                                    PreviewMouseDown="RightButton_MouseDown"
                                    PreviewMouseUp="PTZButton_MouseUp"
                                    Margin="2"/>
                            <Button Grid.Row="2" Grid.Column="1" Content="Down"
                                    PreviewMouseDown="DownButton_MouseDown"
                                    PreviewMouseUp="PTZButton_MouseUp"
                                    Margin="2"/>
                        </Grid>

                        <!-- Zoom Controls -->
                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Button Grid.Column="0" Content="Zoom +"
                                    PreviewMouseDown="ZoomInButton_MouseDown"
                                    PreviewMouseUp="PTZButton_MouseUp"
                                    Margin="2"/>
                            <Button Grid.Column="1" Content="Zoom -"
                                    PreviewMouseDown="ZoomOutButton_MouseDown"
                                    PreviewMouseUp="PTZButton_MouseUp"
                                    Margin="2"/>
                        </Grid>
                    </StackPanel>
                </GroupBox>

                <!-- Presets -->
                <GroupBox Header="Presets" x:Name="PresetsGroup" IsEnabled="False">
                    <StackPanel>
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Label Content="Preset:" VerticalAlignment="Center"/>
                            <ComboBox x:Name="PresetCombo" Grid.Column="1" Margin="5"
                                      SelectedIndex="0">
                                <ComboBoxItem Content="1"/>
                                <ComboBoxItem Content="2"/>
                                <ComboBoxItem Content="3"/>
                                <ComboBoxItem Content="4"/>
                                <ComboBoxItem Content="5"/>
                                <ComboBoxItem Content="6"/>
                                <ComboBoxItem Content="7"/>
                                <ComboBoxItem Content="8"/>
                            </ComboBox>
                        </Grid>
                        <Button Content="Go to Preset" Click="GotoPresetButton_Click"/>
                    </StackPanel>
                </GroupBox>

                <!-- Recording -->
                <GroupBox Header="Recording" x:Name="RecordingGroup" IsEnabled="False">
                    <StackPanel>
                        <Button x:Name="RecordButton"
                                Content="Start Recording"
                                Click="RecordButton_Click"
                                Height="40"
                                Margin="0,0,0,10"/>
                        <Button x:Name="SnapshotButton"
                                Content="Take Snapshot"
                                Click="SnapshotButton_Click"/>
                    </StackPanel>
                </GroupBox>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
